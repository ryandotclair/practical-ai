accelerator:
  displayName: "Practical AI Guide"
  description: "A practical guide for Spring Devs to start quickly in AI"
  iconUrl: https://raw.githubusercontent.com/sample-accelerators/icons/master/icon-tanzu-light.png
  tags:
  - azure
  - ai

  options:
  - name: name
    label: "What is your name?"
    display: true
    required: true
  - name: helper
    label: "I'm not an Azure expert!"
    dataType: boolean
    defaultValue: true
  - name: customize
    label: "Let's Customize this guide to your experience! Select which instructions you need."
    dependsOn:
      name: helper
    inputType: checkbox
    dataType: [string]
    choices:
      - text: "I'm new to Azure, explain the main constructs"
        value: 1
      - text: "How to deploy Azure Spring Apps Enterprise!"
        value: 2
      - text: "How to deploy Azure Cosmos DB"
        value: 3
      - text: "How to deploy Azure OpenAI"
        value: 4
      - text: "How to deploy Azure Speech to Text"
        value: 5
    display: true

engine:
  merge:
  - include: [ "**" ]
  - name: lab
    type: Combo
    onConflict: Append
    sources:
    - include: ["lab.md"]
      chain:
      - type: ReplaceText
        substitutions:
        - text: [NAME]
          with: "#name"
    - include: ["azure.md"]
      condition: "#customize.contains('1')"
      chain:
      - type: RewritePath
        rewriteTo: "lab.md"
    - include: ["asa-e.md"]
      condition: "#customize.contains('2')"
      chain:
      - type: RewritePath
        rewriteTo: "lab.md"
    - include: ["cosmos.md"]
      condition: "#customize.contains('3')"
      chain:
      - type: RewritePath
        rewriteTo: "lab.md"
    - include: ["openai.md"]
      condition: "#customize.contains('4')"
      chain:
      - type: RewritePath
        rewriteTo: "lab.md"
    - include: ["bottom.md"]
      chain:
      - type: RewritePath
        rewriteTo: "lab.md"